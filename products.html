<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Produk | paddy.id</title>

<style>
:root {
  --pink: #ff5ca8;
  --bg: #f8f8f8;
}

/* ===== GLOBAL ===== */
* {box-sizing: border-box; font-family: Arial, Helvetica, sans-serif;}
body {margin:0; background: var(--bg);}

/* ===== HEADER ===== */
header {
  background: white;
  padding: 14px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 10px rgba(0,0,0,.08);
  position: sticky;
  top: 0;
  z-index: 1000;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.back-btn {
  text-decoration: none;
  font-size: 20px;
  color: var(--pink);
}

header h1 {
  font-size: 16px;
  margin: 0;
  color: #333;
}

.cart-btn {
  font-size: 20px;
  color: var(--pink);
  text-decoration: none;
  position: relative;
}

.cart-count {
  position: absolute;
  top: -6px;
  right: -10px;
  background: red;
  color: white;
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 50%;
}

/* ===== GRID PRODUK ===== */
.produk {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px,1fr));
  gap:16px;
  padding:16px;
}

.card {
  background:white;
  border-radius:16px;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  overflow:hidden;
  text-align:center;
  transition: transform .2s;
}

.card:hover {transform: translateY(-4px);}

.card img {
  width:100%;
  height:160px;
  object-fit:cover;
  display:block;
}

.card h3 {font-size:14px; margin:10px 8px 4px;}
.card p {font-weight:bold; color:var(--pink); margin-bottom:10px;}

.card a {
  display:block;
  margin:0 10px 12px;
  padding:8px;
  background:var(--pink);
  color:white;
  border-radius:10px;
  text-decoration:none;
  font-size:13px;
}

/* ===== FLOATING WA ===== */
.wa-float {
  position: fixed;
  right: 16px;
  bottom: 16px;
  background:#25D366;
  color:white;
  padding:12px 14px;
  border-radius:50px;
  font-size:14px;
  text-decoration:none;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
  z-index:999;
}

/* ===== MODAL ===== */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition: opacity 0.3s ease;
  z-index:2000;
}

.modal.show {opacity:1; pointer-events:auto;}

.modal-content {
  background:#fff;
  border-radius:12px;
  max-width:500px;
  width:90%;
  padding:20px;
  position: relative;
  animation: slideUp .3s ease;
}

@keyframes slideUp {
  from {transform: translateY(40px); opacity:0;}
  to {transform: translateY(0); opacity:1;}
}

.modal-content img {
  width:100%;
  border-radius:10px;
  margin-bottom:15px;
}

.close-btn {
  position:absolute;
  top:10px;
  right:10px;
  font-size:22px;
  background:none;
  border:none;
  cursor:pointer;
}

/* ===== RESPONSIVE ===== */
@media (max-width:480px){
  .card img{height:140px;}
}
</style>
</head>

<body>

<!-- HEADER -->
<header>
  <div class="header-left">
    <a href="index.html" class="back-btn">‚Üê</a>
    <h1>Produk</h1>
  </div>

  <a href="#" class="cart-btn">
    üõí
    <span class="cart-count" id="cartCount">0</span>
  </a>
</header>

<!-- PRODUK -->
<div id="produk" class="produk"></div>

<!-- MODAL -->
<div class="modal" id="productModal">
  <div class="modal-content">
    <button class="close-btn" id="closeModal">&times;</button>
    <img id="modalImg">
    <h2 id="modalTitle"></h2>
    <p id="modalDesc"></p>
    <p id="modalPrice" style="color:var(--pink); font-weight:bold;"></p>
    <a id="modalWA" target="_blank"
       style="display:inline-block;padding:8px 12px;background:var(--pink);color:white;border-radius:8px;text-decoration:none;">
       Pesan via WA
    </a>
  </div>
</div>

<a class="wa-float" href="https://wa.me/6282130333125" target="_blank">üí¨ WhatsApp</a>

<script>
let cart = [];

function updateCart(){
  document.getElementById("cartCount").innerText = cart.length;
}

fetch("https://script.google.com/macros/s/AKfycby2vg6JtClsM6vWM4xvPdXwMa9JpOPhO49688UV1JfLyzcAD-07Y-Q__D6Cf2qqhV_fHA/exec")
.then(res => res.json())
.then(data => {
  const el = document.getElementById("produk");

  data.forEach(p => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img src="${p.gambar}" onerror="this.src='https://via.placeholder.com/300'">
      <h3>${p.nama}</h3>
      <p>Rp ${p.harga}</p>
      <a class="wa-btn" target="_blank"
         href="https://wa.me/6282130333125?text=Halo%20saya%20tertarik%20dengan%20produk%20${encodeURIComponent(p.nama)}">
         Pesan via WA
      </a>
    `;

    // klik card ‚Üí modal (kecuali klik WA)
    card.addEventListener("click", e => {
      if(e.target.classList.contains("wa-btn")) return;

      document.getElementById("modalImg").src = p.gambar;
      document.getElementById("modalTitle").innerText = p.nama;
      document.getElementById("modalDesc").innerText = p.deskripsi || "Tidak ada deskripsi";
      document.getElementById("modalPrice").innerText = "Rp " + p.harga;
      document.getElementById("modalWA").href =
        `https://wa.me/6282130333125?text=Halo%20saya%20tertarik%20dengan%20produk%20${encodeURIComponent(p.nama)}`;

      document.getElementById("productModal").classList.add("show");
    });

    el.appendChild(card);
  });
});

document.getElementById("closeModal").onclick = () =>
  document.getElementById("productModal").classList.remove("show");

document.getElementById("productModal").onclick = e => {
  if(e.target.id === "productModal")
    e.target.classList.remove("show");
};
</script>

</body>
</html>
